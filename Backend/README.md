# CollabConnect Backend

This directory contains the backend components of the CollabConnect application.

## Components

### Flask Application (`app.py`)
The main Flask application that provides the REST API and manages database connections.

### Data Insertion Scripts

#### `insert_roux_data.py`
Inserts Roux Institute data from `data/roux_institute_data.json` into the database.

**Usage:**
```bash
python insert_roux_data.py
```

**Prerequisites:**
- MySQL server must be running
- Database must be created (run Flask app first to auto-create)
- `config.ini` must be configured with database credentials

**What it does:**
1. Loads Roux Institute data from JSON file
2. Inserts data in proper order to respect foreign key constraints:
   - Institution (Roux Institute at Northeastern University)
   - Department (General Faculty and Staff)
   - Person (50 faculty/staff members with bios)
   - WorksIn (person-department relationships)
   - Tag (expertise tags)
3. Verifies all insertions and displays a summary

### Scrapers (`scrapers/`)
Web scrapers for collecting data from various sources. See `scrapers/SCRAPERS.md` for details.

### SQL Queries (`sql_queries/`)
Database schema and stored procedures:
- `creation_scripts/` - Table creation scripts
- `procedures/` - Stored procedures for CRUD operations
- `indexes/` - Database indexes for performance
  - `person_indexes.sql` - Indexes for Person table (name, email, expertise, full-text search)
  - `worksin_indexes.sql` - Indexes for WorksIn junction table
  - `department_indexes.sql` - Indexes for Department table
  - `general_indexes.sql` - Indexes for Project, Tag, and Project_Tag tables
  - `belongsto_indexes.sql` - Indexes for BelongsTo relationship
  - `workedon_indexes.sql` - Indexes for WorkedOn relationship
- `functions/` - SQL functions
- `tables/` - Individual table definitions

### Data (`data/`)
JSON data files generated by scrapers:
- `roux_institute_data.json` - Roux Institute faculty/staff data
- `nih_projects.json` - NIH project data
- Other scraped datasets

## Setup

1. Copy `config.ini.example` to `config.ini`:
   ```bash
   cp config.ini.example config.ini
   ```

2. Edit `config.ini` with your database credentials:
   ```ini
   [Database]
   db_host = 127.0.0.1
   db_port = 3306
   db_user = root
   db_password = your_password
   db_name = collab_connect_db
   db_cursorclass = DictCursor
   ```

3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

4. Run the Flask application (creates database if it doesn't exist):
   ```bash
   python app.py
   ```

5. Insert Roux Institute data:
   ```bash
   python insert_roux_data.py
   ```

## Database Schema

The database consists of the following main tables:
- `Institution` - Academic/research institutions
- `Department` - Departments within institutions
- `Person` - Faculty, staff, and researchers
- `Project` - Research projects
- `Tag` - Expertise and project tags
- `WorksIn` - Many-to-many relationship between Person and Department
- `WorkedOn` - Person-project relationships
- `BelongsTo` - Department-institution history
- `Project_Tag` - Project-tag relationships
